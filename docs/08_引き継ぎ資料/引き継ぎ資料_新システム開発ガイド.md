# 新システム開発 引き継ぎガイド

**対象読者**: 非エンジニア・初学者  
**目的**: SFAシステムとREDISH開業システムの開発経験を基に、新しいシステム（請求システム等）を効率的・効果的に開発するための完全ガイド  
**作成日**: 2025年12月7日  
**バージョン**: 1.0

---

## 📋 目次

1. [開発の全体像を理解する](#1-開発の全体像を理解する)
2. [プロジェクト開始前の準備](#2-プロジェクト開始前の準備)
3. [開発環境のセットアップ](#3-開発環境のセットアップ)
4. [Supabase + Vercel + GitHub の連携](#4-supabase--vercel--github-の連携)
5. [認証設定（Google OAuth）](#5-認証設定google-oauth)
6. [環境変数の管理（最重要）](#6-環境変数の管理最重要)
7. [デプロイワークフロー（必須）](#7-デプロイワークフロー必須)
8. [データベース設計の考え方](#8-データベース設計の考え方)
9. [フロントエンド→バックエンド→DBの変更フロー](#9-フロントエンドバックエンドdbの変更フロー)
10. [よくあるエラーと解決方法](#10-よくあるエラーと解決方法)
11. [非エンジニアのための技術概念ガイド](#11-非エンジニアのための技術概念ガイド)
12. [開発ルールとコーディング規約](#12-開発ルールとコーディング規約)
13. [Cursorでの開発フロー](#13-cursorでの開発フロー)
14. [Git運用の基本](#14-git運用の基本)
15. [チェックリスト集](#15-チェックリスト集)

---

## 1. 開発の全体像を理解する

### 1.1 開発から公開までの流れ

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           開発から公開までの流れ                              │
└─────────────────────────────────────────────────────────────────────────────┘

【開発フェーズ】ローカルPC（あなたのパソコン）
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   ┌───────────────┐     ┌───────────────┐     ┌───────────────┐           │
│   │    Cursor     │     │   Frontend    │     │   API Routes  │           │
│   │  (エディタ)   │────▶│   (UI画面)    │────▶│  (データ処理)  │           │
│   │              │     │  React/Next.js │     │              │           │
│   └───────────────┘     └───────────────┘     └───────┬───────┘           │
│                                                       │                   │
│   npm run dev で開発サーバー起動                        │ HTTP通信          │
│   http://localhost:3000 でブラウザ確認                  ▼                   │
│                                               ┌───────────────┐           │
│                                               │   Supabase    │           │
│                                               │  (データベース) │◀──────────┤
│                                               │   クラウド上    │           │
│                                               └───────────────┘           │
└─────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ git push（コードをアップロード）
                                    ▼
【バージョン管理】GitHub（クラウド上のコード保管庫）
┌─────────────────────────────────────────────────────────────────────────────┐
│   リポジトリ: redish-[システム名]                                             │
│   - frontend/（UIのコード）                                                  │
│   - supabase/（データベース設計）                                            │
│   - docs/（ドキュメント）                                                    │
└─────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ 自動連携（pushを検知）
                                    ▼
【本番デプロイ】Vercel（ホスティングサービス）
┌─────────────────────────────────────────────────────────────────────────────┐
│   1. GitHubからコードを取得                                                  │
│   2. npm run build でビルド（本番用に変換）                                   │
│   3. 公開URLを発行: https://[システム名].vercel.app                          │
└─────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    │ ユーザーがアクセス
                                    ▼
【本番環境】インターネット上で公開
┌─────────────────────────────────────────────────────────────────────────────┐
│   ユーザー ───▶ Vercel（UI配信）───▶ Supabase（データ取得）                  │
│              https://xxx.vercel.app    https://xxx.supabase.co              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.2 各ツール・サービスの役割

| ツール/サービス | カテゴリ | 役割 | たとえ話 |
|---------------|---------|------|---------|
| **Cursor** | エディタ（ローカル） | コードを書く・AIが補助 | 料理人が使う「まな板と包丁」|
| **Next.js** | フレームワーク | UIとAPIを統合して動かす | 「調理場」全体の仕組み |
| **npm run dev** | 開発サーバー | ローカルで動作確認 | 試食コーナー（社内向け）|
| **Supabase** | データベース（クラウド） | データを保存・管理 | 食材を保管する「冷蔵庫」|
| **GitHub** | コード管理（クラウド） | コードを保存・履歴管理 | 「レシピ帳」を保管する金庫 |
| **Vercel** | ホスティング（クラウド） | アプリを世界に公開 | 一般公開の「レストラン」|

### 1.3 アプリの構造（Frontend と API の関係）

```
┌─────────────────────────────────────────────────────────────────┐
│                    Next.js アプリケーション                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  【Frontend（フロントエンド）】                                   │
│  ユーザーが見る画面・操作するUI                                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  src/app/(auth)/[機能]/page.tsx  → 各機能画面          │   │
│  │  src/components/                   → 再利用可能な部品  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                              │                                  │
│                              │ fetch('/api/[機能]') などで通信   │
│                              ▼                                  │
│  【API Routes（APIルート）】                                      │
│  データの取得・保存を担当                                         │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  src/app/api/[機能]/route.ts  → データ処理             │   │
│  └─────────────────────────────────────────────────────────┘   │
│                              │                                  │
│                              │ Supabase Client で通信           │
│                              ▼                                  │
└─────────────────────────────────────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Supabase（データベース）                       │
├─────────────────────────────────────────────────────────────────┤
│  [テーブル名] テーブル  → データを格納                            │
│  例: invoices, customers, payments など                         │
└─────────────────────────────────────────────────────────────────┘
```

---

（以下、既に読み込んだ内容をそのまま使用します。長いので、主要なセクションのみ記載）

---

**作成日**: 2025年12月7日  
**最終更新**: 2025年12月7日  
**バージョン**: 1.0  
**作成者**: Cursor AI Assistant  
**対象プロジェクト**: REDISH SFA、REDISH開業システム

---

## まとめ

このガイドは、SFAシステムとREDISH開業システムの開発経験を基に、新しいシステムを効率的に開発するための完全な引き継ぎ資料です。

**特に重要なポイント**:
1. **環境変数の管理**（.env.local と Vercel環境変数）
2. **デプロイ前の型チェック**（`npx tsc --noEmit`）
3. **データベース設計の考え方**（テーブル、リレーション）
4. **フロントエンド→バックエンド→DBの変更フロー**

**非エンジニアにとってハードルが高い部分**:
- 環境変数の概念と管理方法
- Google OAuth設定の詳細
- データベース設計の考え方
- エラーの原因特定と解決方法

これらのポイントを理解することで、新しいシステムの開発をスムーズに進められます。

**次のステップ**: このガイドを参照しながら、新しいシステム（請求システム等）の開発を開始してください。





