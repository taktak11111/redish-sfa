# 架電管理ページ改善案

> **作成日**: 2026-01-10  
> **優先度**: A（高）  
> **状態**: 提案中

---

## 📋 改善の目的

複数人が1日100件程度の架電を効率的に実施できるよう、以下の点を改善します：

1. **架電の効率化**: 次々と実施する架電のしやすさ
2. **情報入力の効率化**: 架電中の情報入力のしやすさ（通電率10%を考慮）
3. **架電リスト機能**: 一定の条件で本日の架電リストを作成し、それだけを表示
4. **重複防止**: 複数人で架電する場合の重複を防止
5. **新規リードの自動追加**: 新規リードは当日架電必須のため、自動的に本日の架電リストに追加

---

## 🎯 現状の課題

### 1. 架電の効率化に関する課題

- **すべてのリードが表示されている**: フィルタリングのみで、本日の架電対象が明確でない
- **架電リストの概念がない**: 事前に架電リストを作成できない
- **次々と架電するワークフローが最適化されていない**: 行をクリック→パネルを開く→入力→保存の流れが非効率

### 2. 情報入力の効率化に関する課題

- **パネルでの入力が必要**: サイドパネルを開いて入力する必要があり、画面遷移が発生
- **架電中の情報入力がしにくい**: 電話をかけながら、別ウィンドウで入力する必要がある
- **クイック入力機能がない**: よく使う入力（不通、再架電依頼等）がすぐに入力できない

### 3. 架電リスト機能の不足

- **条件に基づく架電リスト作成機能がない**: 新規リード、不通リード、再架電対象リード等の条件でリストを作成できない
- **本日の架電リストを事前に決められない**: 朝にリストを作成して、それだけを表示する機能がない
- **個別選択機能がない**: 特定のリードを個別に選択してリストに追加できない
- **重複防止機能がない**: 複数人で架電する場合、同じリードが重複してリストに追加される可能性がある
- **新規リードの自動追加機能がない**: 新規リードは当日架電必須だが、手動でリストに追加する必要がある

### 4. 通電率を考慮した入力フローの不足

- **通電率10%を考慮した設計がない**: 通電して話せる割合は10%程度だが、すべてのリードで詳細入力が必要な設計になっている
- **表内でのクイック入力ができない**: 90%のリード（不通、未架電等）は表内で素早く入力できない
- **架電済みの視覚的フィードバックがない**: 架電したリードが視覚的に区別できない

---

## 💡 改善案

### Phase 1: 架電リスト機能の実装

#### 1.1 架電リスト作成機能

**機能概要**:

- 一定の条件で架電リストを作成
- 本日の架電リストを事前に決めて、それだけを表示
- **新規リードは自動的に本日の架電リストに追加**（当日架電必須）
- **複数人で架電する場合の重複を防止**

**実装内容**:

1. **架電リスト作成モーダル**
  - 条件選択:
    - ✅ **新規リード（未架電）**: 自動的に本日の架電リストに追加（必須）
    - ✅ 不通リード（架電履歴で「不通」のリード）
    - ✅ 再架電対象リード（架電履歴で「再架電依頼」のリード）
    - ✅ リサイクル対象リード（失注理由が「リサイクル対象」のリード）
    - ✅ その他個別で選択したリード（手動選択）
  - 追加条件:
    - 連携日の範囲
    - リードソース
    - 業種
    - 担当IS
  - **重複防止設定**:
    - 共有リストモード: 全員で共有するリスト（重複チェックあり）
    - 個人リストモード: 担当者ごとにリストを分ける
  - リスト名の設定（例: "2026-01-10_新規リード"）
  - 保存機能（DBに保存、担当者情報も記録）
2. **架電リスト表示モード**
  - トグルスイッチ: 「すべて表示」⇔「本日の架電リストのみ表示」
  - 本日の架電リストが選択されている場合、リストに含まれるリードのみ表示
  - リストに含まれるリード数を表示（例: "本日の架電リスト: 50件"）
  - **新規リードの自動追加**: 新規リード（未架電）は自動的に本日の架電リストに追加される
3. **架電リスト管理**
  - リスト一覧表示（過去のリストも表示可能）
  - リストの編集（リードの追加・削除）
  - リストの削除
  - リストの複製（翌日も同じ条件でリストを作成）
  - **重複チェック**: リストに追加する際、既に他の担当者が選択しているリードを警告
4. **重複防止機能**
  - **架電中のリードは他の担当者が選択できない**: ステータスが「架電中」のリードは、他の担当者がリストに追加できない
  - **共有リストでの重複チェック**: 共有リストモードの場合、同じリードが複数の担当者に割り当てられないようにする
  - **個人リストモード**: 担当者ごとにリストを分けることで、重複を防止

#### 1.2 データ構造

```typescript
// 架電リスト
export interface CallList {
  id: string // リストID
  name: string // リスト名（例: "2026-01-10_新規リード"）
  date: string // リスト作成日（YYYY-MM-DD）
  conditions: CallListCondition // 作成条件
  leadIds: string[] // リストに含まれるリードID配列
  staffIS?: string // 担当IS（個人リストモードの場合）
  isShared: boolean // 共有リストかどうか
  createdAt: Date // 作成日時
  updatedAt: Date // 更新日時
}

// 架電リスト割り当て（重複防止用）
export interface CallListAssignment {
  leadId: string // リードID
  callListId: string // 架電リストID
  staffIS: string // 担当IS
  assignedAt: Date // 割り当て日時
}

// 架電リスト作成条件
export interface CallListCondition {
  // 基本条件
  newLeads?: boolean // 新規リード（未架電）- 自動的に本日の架電リストに追加（必須）
  noConnectionLeads?: boolean // 不通リード
  recallLeads?: boolean // 再架電対象リード
  recycleLeads?: boolean // リサイクル対象リード
  manualSelection?: boolean // 手動選択
  
  // 追加条件
  dateRange?: { start: Date; end: Date } // 連携日の範囲
  leadSources?: LeadSource[] // リードソース
  industries?: string[] // 業種
  staffIS?: string[] // 担当IS
  
  // 手動選択（manualSelection=trueの場合）
  selectedLeadIds?: string[] // 個別に選択したリードID配列
  
  // 重複防止設定
  preventDuplication?: boolean // 重複防止を有効にするか
  isShared?: boolean // 共有リストかどうか
}
```

---

### Phase 2: 架電の効率化

#### 2.0 ステータス体系（混在防止の方針）

> **目的**: 「リードの状態（ISステータス）」と「直近の架電結果」と「架電オペレーション上の状態（クイックアクション用）」を分離し、同じ言葉（ステータス）が別の意味で混ざるのを防ぐ。

##### A. リード状態（ISステータス = 営業プロセス上の状態）

- **基本は現行7つをベースに維持**しつつ、混在の原因だけ分離する
  - 01.新規リード
  - 02.コンタクト試行中
  - 03.アポイント獲得済
  - 04.失注（ナーチャリング対象外）
  - 06.ナーチャリング対象
  - 05.対応不可/対象外 → **2種類に分割する**
    - **対象外（Disqualified）**: D1 心当たりなし / D2 言語障壁 / D3 興味なし
    - **連絡不能（Unreachable）**: U1 番号違い / U2 番号不備
  - 07.既存顧客 → **ISステータスではなく属性へ移動**（例: 顧客区分）

##### B. 直近の架電結果（結果/コンタクト状況 = Disposition）

- Phase 2（通電率10%の最適化）に必要な最小セットとして、現行3つは維持
  - 未架電
  - 不通（電話に出ない）
  - 通電（会話できた）
- **重要**: 「番号違い」「番号不備」は “結果” よりも上位の **連絡不能（Unreachable）** として扱う（恒久的に架電対象から外すため）

##### C. 架電オペレーション状態（クイックアクション用のアクション状態）

- **狙い**: 表内の1クリック入力で「今日の架電タスクが進んだか」を表現する
- 例（概念）:
  - 本日の架電状況: 未了 / 済
  - 架電中フラグ（誰がいま架電中か）: 架電中 / 非架電中
  - 架電回数（本日 or 累積）
  - 次回架電日（再架電依頼の時）

##### 混在を防ぐUIラベル指針

- 「ISステータス」は **リード状態** と明記（クイックボタンでは基本いじらない）
- 「結果/コンタクト状況」は **直近架電結果** と明記（クイックアクションが更新する主対象）
- 「本日の架電状況」「架電中」は **架電アクション** と明記（運用・視覚フィードバック用）

#### 2.1 クイックアクション機能（通電率10%を考慮）

**機能概要**:

- 表の各行にクイックアクションボタンを追加
- **通電率10%を考慮**: 通電した場合（10%）は詳細画面で入力、その他（90%）は表内でクイック入力
- よく使う操作（架電開始、不通、再架電依頼等）を1クリックで実行

**実装内容**:

1. **クイックアクションボタン（表の各行に追加）**
  - 📞 **架電開始**: 架電アクション状態を「架電中」に変更、担当ISを記録
  - ❌ **不通**: 直近架電結果を「不通」に設定、架電履歴に「不通」を追加、本日の架電状況を「済」に変更、架電回数を+1、架電アクション状態を解除、**行を薄いグレーで表示**
  - 📞 **通電**: 直近架電結果を「通電」に設定、**詳細パネルを開く**（通電した場合のみ詳細入力）
  - 🔄 **再架電依頼**: 架電履歴に「再架電依頼」を追加、本日の架電状況を「済」に変更、架電回数を+1、次回架電日を設定、**行を薄いグレーで表示**
  - ✅ **アポ獲得**: リード状態（ISステータス）を「アポイント獲得済」に変更、アポイント獲得日を設定、**行を薄いコーポレートカラーで表示**
  - 📝 **詳細入力**: 詳細パネルを開く（従来通り、通電した場合に使用）
2. **架電中の表示**
  - ステータスが「架電中」のリードは、行全体を**ハイライト表示**（例: `bg-blue-50`）
  - 「架電中」のリードは、表の上部に固定表示（または別セクションに表示）
3. **架電済みの視覚的フィードバック**
  - **架電済み（本日の架電状況が「済」）**: 行全体を**薄いグレー**で表示（例: `bg-gray-50 opacity-60`）
  - **アポイント（商談）獲得済み**: 行全体を**薄いコーポレートカラー**で表示（例: `bg-[コーポレートカラー]/10` または `bg-blue-50`）
  - 架電済みのリードは、表の下部に表示（または別セクションに表示）
4. **次々と架電するワークフロー**
  - 架電開始ボタンをクリック → ステータスが「架電中」に変更、ハイライト表示
  - 架電完了後、クイックアクションで結果を選択（不通、通電、再架電依頼、アポ獲得等）
  - **通電した場合（10%）**: 詳細パネルが自動的に開く
  - **その他の場合（90%）**: 表内でクイック入力（本日の架電状況、架電回数、架電ステータス）
  - 架電完了後、行が視覚的に区別され（架電済みは薄いグレー、アポ獲得は薄いコーポレートカラー）、次のリードに自動的にスクロール（オプション）

#### 2.2 表内クイック入力機能（通電率10%を考慮）

**機能概要**:

- **通電率10%を考慮**: 90%のリード（不通、未架電等）は表内で素早く入力
- 表のセルを直接編集可能にする
- よく変更する項目（本日の架電状況、架電回数、架電ステータス）をインライン編集

**実装内容**:

1. **表に追加するカラム**
  - **本日の架電状況**: 「未了」/「済」をドロップダウンで選択
  - **架電回数**: 数値入力（+1ボタンでインクリメント）
  - **直近架電結果**: 「不通」/「通電」/「未架電」をドロップダウンで選択
2. **インライン編集可能なセル**
  - 本日の架電状況: ドロップダウンで選択（「未了」→「済」に変更すると行が薄いグレーで表示）
  - 架電回数: 数値入力、+1ボタンでインクリメント
  - 直近架電結果: ドロップダウンで選択（「不通」「通電」「未架電」）
  - 次回架電日: 日付ピッカーで選択
  - **ステータス変更時の視覚的フィードバック**:
    - ステータスが「アポイント獲得済」に変更された場合、行を薄いコーポレートカラーで表示
    - 本日の架電状況が「済」に変更された場合（アポ獲得以外）、行を薄いグレーで表示
3. **自動保存**
  - セルを編集してフォーカスが外れたら自動保存
  - 保存中はローディング表示
  - 保存成功後、架電履歴に自動的に追加
4. **通電した場合の処理**
  - 直近架電結果が「通電」に変更された場合、**詳細パネルを自動的に開く**
  - 詳細パネルで詳細な情報を入力（通電率10%のケース）

---

### Phase 3: 架電効率の可視化とモニタリング

#### 3.1 リアルタイム統計表示

**機能概要**:

- 架電中のリアルタイム統計を表示
- 架電効率を可視化することで、モチベーション向上と効率改善を促進

**実装内容**:

1. **リアルタイム統計ダッシュボード（画面上部に固定表示）**
  - **架電済み件数**: 本日の架電済み件数（例: "架電済み: 45件"）
  - **アポ獲得数**: 本日のアポ獲得数（例: "アポ獲得: 3件"）
  - **経過時間**: 架電開始からの経過時間（例: "経過時間: 2時間30分"）
  - **時間当たり架電数**: 架電効率の指標（例: "時間当たり: 18件/時"）
  - **目標達成率**: 1日の目標架電数に対する達成率（例: "目標達成率: 45% (45/100)"）
  - **アポ獲得率**: 架電済み件数に対するアポ獲得率（例: "アポ獲得率: 6.7% (3/45)"）
2. **進捗バー表示**
  - 1日の目標架電数に対する進捗をバーで表示
  - 目標アポ獲得数に対する進捗をバーで表示
  - 色分け: 目標達成まで50%未満（赤）、50-80%（黄）、80%以上（緑）
3. **架電ペースの可視化**
  - 時間帯別の架電数グラフ（折れ線グラフ）
  - 架電ペースが落ちている時間帯を可視化
  - 目標ペースとの比較（例: "目標: 20件/時、現在: 18件/時"）
4. **休憩時間の記録と推奨**
  - 休憩時間の記録機能
  - 連続架電時間が長い場合、休憩を推奨（例: "2時間連続架電中。休憩を推奨します"）
  - 休憩時間を除いた実働時間で効率を計算

#### 3.2 目標設定機能

**機能概要**:

- 1日の目標架電数と目標アポ獲得数を設定
- 目標達成に向けた進捗を可視化

**実装内容**:

1. **目標設定モーダル**
  - 1日の目標架電数（例: 100件）
  - 1日の目標アポ獲得数（例: 5件）
  - 目標時間（例: 8時間）
  - 保存機能（ローカルストレージまたはDB）
2. **目標達成の通知**
  - 目標架電数達成時に通知（例: "目標架電数100件を達成しました！"）
  - 目標アポ獲得数達成時に通知
  - 目標時間達成時に通知

#### 3.3 架電パフォーマンス分析

**機能概要**:

- 架電パフォーマンスを分析し、効率改善のヒントを提供

**実装内容**:

1. **時間帯別効率分析**
  - 時間帯別の架電数、アポ獲得率を表示
  - 最も効率的な時間帯を可視化（例: "午前10-12時が最も効率的"）
2. **リードソース別効率分析**
  - リードソース別の架電数、アポ獲得率を表示
  - 最も効率的なリードソースを可視化（例: "リードソースAのアポ獲得率が高い"）
3. **個人パフォーマンス比較**
  - 過去の自分のパフォーマンスと比較
  - 週次・月次の平均と比較

---

### Phase 4: 自動スクロール・タイマー・テンプレート機能

#### 4.1 自動スクロール機能

**機能概要**:

- 架電完了後、次のリードに自動的にスクロール
- マウス操作を削減し、架電の流れをスムーズにする

**実装内容**:

1. **自動スクロールの動作**
  - 架電完了後（本日の架電状況が「済」に変更）、次の未架電リードに自動スクロール
  - スクロール先: 次の「未了」のリード（本日の架電状況が「未了」）
  - スクロール速度: スムーズなアニメーション（例: 500ms）
2. **設定オプション**
  - 自動スクロールの有効/無効を切り替え可能（トグルスイッチ）
  - 設定はローカルストレージに保存
  - デフォルト: 有効
3. **スクロール先の判定**
  - 現在のリードの次の「未了」のリードを検索
  - 「未了」のリードがない場合、スクロールしない
  - 架電中のリードはスキップ

#### 4.2 架電タイマー機能

**機能概要**:

- 各リードの架電時間を自動記録
- 架電時間の把握により、効率改善のヒントを得られる

**実装内容**:

1. **タイマーの動作**
  - 架電開始時にタイマー開始（ステータスが「架電中」に変更された時）
  - 架電完了時にタイマー停止（本日の架電状況が「済」に変更された時）
  - 架電時間を記録（秒単位、または分単位）
2. **タイマーの表示**
  - 表の各行に架電時間を表示（例: "3分"）
  - 架電中のリードは、リアルタイムで経過時間を表示（例: "1分30秒..."）
  - リアルタイム統計に平均架電時間を表示（例: "平均架電時間: 3分"）
3. **データ保存**
  - 架電時間を架電履歴に記録
  - 各リードの架電時間の履歴を保持
  - 平均架電時間を計算（本日の架電済みリードの平均）
4. **効率分析への活用**
  - 時間帯別の平均架電時間を分析
  - リードソース別の平均架電時間を分析
  - 架電時間が長いリードを特定（効率改善のヒント）

#### 4.3 架電テンプレート機能

**機能概要**:

- よく使うメモをテンプレート化
- メモ入力時間を短縮

**実装内容**:

1. **テンプレートの作成・管理**
  - よく使うメモをテンプレートとして保存（例: "不在、再架電依頼"）
  - カスタムテンプレートの作成・編集機能
  - テンプレートの削除機能
  - テンプレートの並び替え機能（よく使う順に並び替え）
2. **テンプレートの使用**
  - メモ入力欄にテンプレート選択ドロップダウンを追加
  - テンプレートを選択すると、メモ欄に自動入力
  - テンプレートを選択後、必要に応じて編集可能
3. **デフォルトテンプレート**
  - 初期状態で以下のテンプレートを用意:
    - "不在、再架電依頼"
    - "不在、次回架電日設定"
    - "通話できた、詳細入力必要"
    - "拒否、リサイクル対象外"
    - "その他"
4. **テンプレートの保存**
  - テンプレートはローカルストレージまたはDBに保存
  - 担当者ごとにテンプレートを管理（個人用テンプレート）
  - 共有テンプレート機能（全員で共有するテンプレート）

---

### Phase 5: 情報入力の効率化

#### 5.1 コンパクトな入力フォーム

**機能概要**:

- 詳細パネルを開かずに、表の下または横にコンパクトな入力フォームを表示
- 架電中の情報を素早く入力

**実装内容**:

1. **コンパクト入力フォーム（表の下に表示）**
  - 選択中のリードの情報を表示
  - よく使う項目のみ表示:
    - ステータス
    - 架電履歴（日時、結果、メモ）
    - 次回架電日
    - メモ
  - 保存ボタン
2. **キーボードショートカット**
  - `Enter`: 保存
  - `Esc`: キャンセル
  - `Tab`: 次のフィールドに移動
  - `Ctrl + S`: 保存

#### 5.2 架電履歴のクイック入力

**機能概要**:

- 架電履歴を素早く追加
- よく使う結果（不通、再架電依頼、アポ獲得等）を1クリックで追加

**実装内容**:

1. **架電履歴クイック入力ボタン**
  - 「不通」ボタン: 架電履歴に「不通」を追加
  - 「再架電依頼」ボタン: 架電履歴に「再架電依頼」を追加、次回架電日を設定
  - 「アポ獲得」ボタン: 架電履歴に「アポ獲得」を追加、ステータスを「アポイント獲得済」に変更
  - 「詳細入力」ボタン: 詳細パネルを開く
2. **架電履歴の表示**
  - 表の各行に最新の架電履歴を表示（例: "2026-01-10 14:30 不通"）
  - 架電履歴の詳細をモーダルで表示

---

## 📐 UI/UX設計

### レイアウト構成

```
┌─────────────────────────────────────────────────────────┐
│ 架電管理                                                │
│ ┌───────────────────────────────────────────────────┐  │
│ │ [本日の架電リスト作成] [リスト選択] [すべて表示]  │  │
│ │ 本日の架電リスト: 50件                             │  │
│ └───────────────────────────────────────────────────┘  │
│ ┌───────────────────────────────────────────────────┐  │
│ │ 📊 リアルタイム統計                               │  │
│ │ 架電済み: 45件 | アポ獲得: 3件 | 経過: 2時間30分 │  │
│ │ 時間当たり: 18件/時 | 目標達成率: 45% (45/100)   │  │
│ │ アポ獲得率: 6.7% (3/45)                          │  │
│ │ [進捗バー: ████████░░░░░░░░░░ 45%]               │  │
│ └───────────────────────────────────────────────────┘  │
│ ┌───────────────────────────────────────────────────┐  │
│ │ [検索] [ステータスフィルタ] [期間フィルタ]      │  │
│ └───────────────────────────────────────────────────┘  │
│ ┌───────────────────────────────────────────────────┐  │
│ │ 表（架電リストのリードのみ表示）                  │  │
│ │ 本日の架電状況 | 担当IS | 架電回数 | 架電ステータス│  │
│ │ [📞架電開始] [❌不通] [📞通電] [🔄再架電] [✅アポ]│  │
│ │ ※架電中はハイライト、架電済みは薄いグレー、      │  │
│ │   アポ獲得は薄いコーポレートカラー                │  │
│ └───────────────────────────────────────────────────┘  │
│ ┌───────────────────────────────────────────────────┐  │
│ │ コンパクト入力フォーム（選択中のリード）          │  │
│ │ ステータス: [選択] 架電履歴: [追加] メモ: [入力] │  │
│ │ テンプレート: [選択] 架電時間: [3分]              │  │
│ └───────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
```

### クイックアクションボタンの配置

- **表の各行の右端に配置**: アクションボタンを横並びで表示
- **ホバー時に表示**: デフォルトは非表示、行にホバーしたら表示
- **アイコン + テキスト**: 視認性を高める

### リアルタイム統計ダッシュボードの配置

- **画面上部に固定表示**: スクロールしても常に表示される
- **カード形式で表示**: 各統計項目をカードで表示
- **色分け**: 目標達成率に応じて色を変更（赤/黄/緑）
- **更新頻度**: 架電完了時に自動更新（リアルタイム）

---

## 🔄 実装優先順位

### Phase 1: 架電リスト機能（最優先）

**理由**: 本日の架電リストを事前に決めることで、架電の効率が大幅に向上

**実装内容**:

1. 架電リスト作成モーダル
2. 架電リスト表示モード（トグルスイッチ）
3. 架電リスト管理（一覧、編集、削除）

**期待効果**:

- 朝にリストを作成して、それだけを表示することで、架電対象が明確になる
- 100件の架電を効率的に実施できる

### Phase 2: クイックアクション機能（通電率10%を考慮）

**理由**: 通電率10%を考慮し、90%のリードは表内で素早く入力、10%のリード（通電）は詳細画面で入力

**実装内容**:

1. クイックアクションボタン（架電開始、不通、通電、再架電依頼、アポ獲得）
2. 架電中の表示（ハイライト、固定表示）
3. 架電済みの視覚的フィードバック（グレーアウト）
4. 表内クイック入力（本日の架電状況、架電回数、架電ステータス）
5. 通電した場合の詳細パネル自動表示

**期待効果**:

- 90%のリード（不通、未架電等）は表内で素早く入力できる
- 10%のリード（通電）は詳細画面で詳細な情報を入力できる
- 架電済みのリードが視覚的に区別できる（薄いグレー）
- アポイント獲得済みのリードが視覚的に区別できる（薄いコーポレートカラー）
- 架電の流れがスムーズになる

### Phase 3: 架電効率の可視化とモニタリング

**理由**: リアルタイム統計と目標設定により、モチベーション向上と効率改善を促進

**実装内容**:

1. リアルタイム統計表示（架電済み件数、アポ獲得数、経過時間、時間当たり架電数）
2. 目標設定機能（1日の目標架電数、目標アポ獲得数）
3. 進捗バー表示
4. 架電ペースの可視化（時間帯別グラフ）
5. 休憩時間の記録と推奨
6. 架電パフォーマンス分析（時間帯別、リードソース別）

**期待効果**:

- リアルタイム統計により、現在の効率を把握できる
- 時間当たり架電数により、効率の改善点を把握できる
- 目標設定により、モチベーションが向上する
- 進捗バーにより、目標達成までの進捗を可視化できる
- 架電ペースの可視化により、効率が落ちている時間帯を把握できる

### Phase 4: 自動スクロール・タイマー・テンプレート機能

**理由**: マウス操作を削減し、架電の流れをスムーズにする

**実装内容**:

1. 自動スクロール機能（架電完了後、次のリードに自動スクロール）
2. 架電タイマー機能（各リードの架電時間を自動記録）
3. 架電テンプレート機能（よく使うメモをテンプレート化）

**期待効果**:

- 自動スクロールにより、マウス操作が減り、架電の流れがスムーズになる
- 架電タイマーにより、架電時間の把握により、効率改善のヒントを得られる
- 架電テンプレートにより、メモ入力時間が短縮される

### Phase 5: コンパクト入力フォーム

**理由**: 詳細パネルを開かずに、素早く情報を入力できる

**実装内容**:

1. コンパクト入力フォーム（表の下に表示）
2. キーボードショートカット
3. 架電履歴のクイック入力

**期待効果**:

- 電話をかけながら、素早く情報を入力できる
- 画面遷移が減り、効率が向上

---

## 💡 その他の架電効率向上の提案（将来の拡張）

### 1. キーボードショートカットの拡充

**機能概要**: よく使う操作をキーボードショートカットで実行

**実装内容**:

- `Space`: 架電開始
- `1`: 不通
- `2`: 通電
- `3`: 再架電依頼
- `4`: アポ獲得
- `Enter`: 保存
- `Esc`: キャンセル
- `↑/↓`: 次の/前のリードに移動

**期待効果**: マウス操作が減り、架電の流れがスムーズになる

### 2. 音声入力機能（将来の拡張）

**機能概要**: 電話をかけながら音声でメモを入力

**実装内容**:

- 音声認識APIを使用（Web Speech API等）
- 音声でメモを入力
- 架電中のハンズフリー操作を実現

**期待効果**: 電話をかけながら、手を使わずにメモを入力できる

### 3. 架電履歴の音声再生（将来の拡張）

**機能概要**: 前回の架電内容を音声で確認

**実装内容**:

- 前回の架電履歴を音声合成で再生
- 架電前に前回の内容を確認

**期待効果**: 前回の架電内容を素早く確認できる

### 4. 架電順序の最適化

**機能概要**: 架電効率が高い順にリードを並び替え

**実装内容**:

- リードソース別のアポ獲得率を分析
- アポ獲得率が高いリードソースを優先的に表示
- 時間帯別の効率を分析し、最適な順序で表示

**期待効果**: 架電効率が向上する

### 5. 架電リマインダー機能

**機能概要**: 再架電対象リードの架電タイミングを通知

**実装内容**:

- 次回架電日が設定されているリードを自動的に表示
- 架電タイミングが来たら通知（例: "再架電対象リードが5件あります"）

**期待効果**: 再架電を忘れずに実施できる

---

## 📝 実装時の注意事項

### 1. パフォーマンス

- **100件程度のリードを表示**: 仮想スクロールの検討（react-window等）
- **リアルタイム更新**: 架電中のステータス変更を即座に反映
- **統計計算の最適化**: リアルタイム統計の計算を最適化（メモ化等）
- **自動スクロールのパフォーマンス**: スクロールアニメーションを最適化
- **タイマーのパフォーマンス**: リアルタイムタイマー表示を最適化（1秒ごとの更新）

### 2. データ整合性

- **架電リストの保存**: DBに保存、担当者情報も記録
- **架電履歴の追加**: 必ず日時と担当ISを記録
- **ステータス変更の整合性**: 架電履歴とステータスが矛盾しないように
- **重複防止**: 架電中のリードは他の担当者が選択できないようにする
- **新規リードの自動追加**: 新規リード（未架電）は自動的に本日の架電リストに追加
- **本日の架電状況の管理**: 本日の架電状況（未了/済）、架電回数、架電ステータスを正確に記録
- **視覚的フィードバックの整合性**: 
  - 架電済み（本日の架電状況が「済」）: 薄いグレーで表示
  - アポイント獲得済み: 薄いコーポレートカラーで表示
  - 架電中: ハイライト表示（薄い青）
- **架電タイマーの整合性**: 架電開始から完了までの時間を正確に記録
- **自動スクロールの整合性**: 次の未架電リードを正確に特定
- **テンプレートの整合性**: テンプレート選択時にメモ欄に正確に入力

### 3. UX

- **操作の確認**: 重要な操作（アポ獲得、不通等）は確認ダイアログを表示
- **エラーハンドリング**: 保存失敗時のエラーメッセージを表示
- **ローディング表示**: 保存中はローディング表示

---

## 🔗 関連ドキュメント

- [架電管理ページ実装](./架電管理ページ実装.md)（作成予定）
- [架電リスト機能仕様](./架電リスト機能仕様.md)（作成予定）

---

## 📅 更新履歴

- **2026-01-10**: 改善案作成
- **2026-01-10**: 追加要件を反映（重複防止、新規リード自動追加、通電率10%を考慮、架電済みグレーアウト、表内クイック入力）
- **2026-01-10**: 視覚的フィードバックを更新（架電済みは薄いグレー、アポイント獲得は薄いコーポレートカラー）
- **2026-01-10**: 架電効率向上の追加提案を追加（リアルタイム統計、目標設定、自動スクロール、キーボードショートカット等）
- **2026-01-10**: Phase 4として自動スクロール・タイマー・テンプレート機能を正式追加
- **2026-01-11**: ステータス体系（リード状態 / 直近架電結果 / 架電アクション状態）を分離し、混在防止の方針を追記
